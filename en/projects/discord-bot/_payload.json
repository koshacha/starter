[{"data":1,"prerenderedAt":498},["ShallowReactive",2],{"content-query-x35KRMqkxI":3},{"_path":4,"_dir":5,"_draft":6,"_partial":6,"_locale":7,"title":8,"description":9,"seoDescription":10,"year":11,"sort":12,"published":13,"color":14,"icon":15,"layout":16,"link":17,"body":18,"_type":492,"_id":493,"_source":494,"_file":495,"_stem":496,"_extension":497},"/en/projects/discord-bot","projects",false,"","Discord Bot","The bot for a private Discord server dedicated to communication and roleplay. Written with Nest.js.","Discord bot project with Node.js, Nest.js, Google Firebase, and Docker.",2024,4,true,"#F7BFBE","doodles:star","project","https://discord.com/oauth2/authorize?client_id=1121418492097343589&permissions=275012176976&scope=bot",{"type":19,"children":20,"toc":484},"root",[21,30,36,42,61,75,81,86,113,119,137,143,148,154,159,379,384,440,445,450,478],{"type":22,"tag":23,"props":24,"children":26},"element","h2",{"id":25},"introduction",[27],{"type":28,"value":29},"text","Introduction",{"type":22,"tag":31,"props":32,"children":33},"p",{},[34],{"type":28,"value":35},"This is my first serious non-study project on Node.js as a backend developer. I created a bot for a private Discord server dedicated to communication and roleplay.",{"type":22,"tag":23,"props":37,"children":39},{"id":38},"links",[40],{"type":28,"value":41},"Links",{"type":22,"tag":43,"props":44,"children":45},"ul",{},[46],{"type":22,"tag":47,"props":48,"children":49},"li",{},[50,52],{"type":28,"value":51},"Git repository: ",{"type":22,"tag":53,"props":54,"children":58},"a",{"href":55,"rel":56},"https://github.com/koshacha/paimon-nestjs",[57],"nofollow",[59],{"type":28,"value":60},"github.com/koshacha/paimon-nestjs",{"type":22,"tag":31,"props":62,"children":63},{},[64,66,73],{"type":28,"value":65},"As the main library for dealing with Discord.js with Nest.js I used ",{"type":22,"tag":53,"props":67,"children":70},{"href":68,"rel":69},"https://github.com/necordjs/necord",[57],[71],{"type":28,"value":72},"this one",{"type":28,"value":74},".",{"type":22,"tag":23,"props":76,"children":78},{"id":77},"bot-commands",[79],{"type":28,"value":80},"Bot commands",{"type":22,"tag":31,"props":82,"children":83},{},[84],{"type":28,"value":85},"The bot can do the following.",{"type":22,"tag":43,"props":87,"children":88},{},[89,94,108],{"type":22,"tag":47,"props":90,"children":91},{},[92],{"type":28,"value":93},"Counts member posts in certain channels (admin decides which ones) and outputs a rating for the whole time, week or month.",{"type":22,"tag":47,"props":95,"children":96},{},[97,99,106],{"type":28,"value":98},"With the power of ",{"type":22,"tag":53,"props":100,"children":103},{"href":101,"rel":102},"https://www.random.org/",[57],[104],{"type":28,"value":105},"RANDOM.ORG",{"type":28,"value":107}," gives a random number/action",{"type":22,"tag":47,"props":109,"children":110},{},[111],{"type":28,"value":112},"Supports simple server economy - allows server users to earn currency and buy game items with it (which can be created by admin)",{"type":22,"tag":23,"props":114,"children":116},{"id":115},"realizations-details",[117],{"type":28,"value":118},"Realizations details",{"type":22,"tag":43,"props":120,"children":121},{},[122,127,132],{"type":22,"tag":47,"props":123,"children":124},{},[125],{"type":28,"value":126},"Development Language: Node.js",{"type":22,"tag":47,"props":128,"children":129},{},[130],{"type":28,"value":131},"Nest.js framework",{"type":22,"tag":47,"props":133,"children":134},{},[135],{"type":28,"value":136},"Database: Google Firebase",{"type":22,"tag":23,"props":138,"children":140},{"id":139},"work-progress",[141],{"type":28,"value":142},"Work progress",{"type":22,"tag":31,"props":144,"children":145},{},[146],{"type":28,"value":147},"In the course of work I got to know Nest.js and Discord.js better, gained experience in bot development. I configured Github Actions so that the image at Docker Hub would be updated after changes in the main repository branch.",{"type":22,"tag":23,"props":149,"children":151},{"id":150},"launch-the-bot-using-docker-compose",[152],{"type":28,"value":153},"Launch the bot using docker compose",{"type":22,"tag":31,"props":155,"children":156},{},[157],{"type":28,"value":158},"First of all, you will need to create a docker-compose.yml file with the following contents:",{"type":22,"tag":160,"props":161,"children":165},"pre",{"className":162,"code":163,"language":164,"meta":7,"style":7},"language-yaml shiki shiki-themes dark-plus","name: paimon\nservices:\n  paimon-bot:\n    ports:\n      - 8000:8000\n    volumes:\n      - .:/usr/src/app\n    env_file:\n      - .env\n    restart: always\n    logging:\n      options:\n        max-size: 1g\n    image: koshacha/paimon-bot:master\n","yaml",[166],{"type":22,"tag":167,"props":168,"children":169},"code",{"__ignoreMap":7},[170,194,208,221,233,247,260,273,286,299,317,330,343,361],{"type":22,"tag":171,"props":172,"children":175},"span",{"class":173,"line":174},"line",1,[176,182,188],{"type":22,"tag":171,"props":177,"children":179},{"style":178},"--shiki-default:#569CD6",[180],{"type":28,"value":181},"name",{"type":22,"tag":171,"props":183,"children":185},{"style":184},"--shiki-default:#D4D4D4",[186],{"type":28,"value":187},": ",{"type":22,"tag":171,"props":189,"children":191},{"style":190},"--shiki-default:#CE9178",[192],{"type":28,"value":193},"paimon\n",{"type":22,"tag":171,"props":195,"children":197},{"class":173,"line":196},2,[198,203],{"type":22,"tag":171,"props":199,"children":200},{"style":178},[201],{"type":28,"value":202},"services",{"type":22,"tag":171,"props":204,"children":205},{"style":184},[206],{"type":28,"value":207},":\n",{"type":22,"tag":171,"props":209,"children":211},{"class":173,"line":210},3,[212,217],{"type":22,"tag":171,"props":213,"children":214},{"style":178},[215],{"type":28,"value":216},"  paimon-bot",{"type":22,"tag":171,"props":218,"children":219},{"style":184},[220],{"type":28,"value":207},{"type":22,"tag":171,"props":222,"children":223},{"class":173,"line":12},[224,229],{"type":22,"tag":171,"props":225,"children":226},{"style":178},[227],{"type":28,"value":228},"    ports",{"type":22,"tag":171,"props":230,"children":231},{"style":184},[232],{"type":28,"value":207},{"type":22,"tag":171,"props":234,"children":236},{"class":173,"line":235},5,[237,242],{"type":22,"tag":171,"props":238,"children":239},{"style":184},[240],{"type":28,"value":241},"      - ",{"type":22,"tag":171,"props":243,"children":244},{"style":190},[245],{"type":28,"value":246},"8000:8000\n",{"type":22,"tag":171,"props":248,"children":250},{"class":173,"line":249},6,[251,256],{"type":22,"tag":171,"props":252,"children":253},{"style":178},[254],{"type":28,"value":255},"    volumes",{"type":22,"tag":171,"props":257,"children":258},{"style":184},[259],{"type":28,"value":207},{"type":22,"tag":171,"props":261,"children":263},{"class":173,"line":262},7,[264,268],{"type":22,"tag":171,"props":265,"children":266},{"style":184},[267],{"type":28,"value":241},{"type":22,"tag":171,"props":269,"children":270},{"style":190},[271],{"type":28,"value":272},".:/usr/src/app\n",{"type":22,"tag":171,"props":274,"children":276},{"class":173,"line":275},8,[277,282],{"type":22,"tag":171,"props":278,"children":279},{"style":178},[280],{"type":28,"value":281},"    env_file",{"type":22,"tag":171,"props":283,"children":284},{"style":184},[285],{"type":28,"value":207},{"type":22,"tag":171,"props":287,"children":289},{"class":173,"line":288},9,[290,294],{"type":22,"tag":171,"props":291,"children":292},{"style":184},[293],{"type":28,"value":241},{"type":22,"tag":171,"props":295,"children":296},{"style":190},[297],{"type":28,"value":298},".env\n",{"type":22,"tag":171,"props":300,"children":302},{"class":173,"line":301},10,[303,308,312],{"type":22,"tag":171,"props":304,"children":305},{"style":178},[306],{"type":28,"value":307},"    restart",{"type":22,"tag":171,"props":309,"children":310},{"style":184},[311],{"type":28,"value":187},{"type":22,"tag":171,"props":313,"children":314},{"style":190},[315],{"type":28,"value":316},"always\n",{"type":22,"tag":171,"props":318,"children":320},{"class":173,"line":319},11,[321,326],{"type":22,"tag":171,"props":322,"children":323},{"style":178},[324],{"type":28,"value":325},"    logging",{"type":22,"tag":171,"props":327,"children":328},{"style":184},[329],{"type":28,"value":207},{"type":22,"tag":171,"props":331,"children":333},{"class":173,"line":332},12,[334,339],{"type":22,"tag":171,"props":335,"children":336},{"style":178},[337],{"type":28,"value":338},"      options",{"type":22,"tag":171,"props":340,"children":341},{"style":184},[342],{"type":28,"value":207},{"type":22,"tag":171,"props":344,"children":346},{"class":173,"line":345},13,[347,352,356],{"type":22,"tag":171,"props":348,"children":349},{"style":178},[350],{"type":28,"value":351},"        max-size",{"type":22,"tag":171,"props":353,"children":354},{"style":184},[355],{"type":28,"value":187},{"type":22,"tag":171,"props":357,"children":358},{"style":190},[359],{"type":28,"value":360},"1g\n",{"type":22,"tag":171,"props":362,"children":364},{"class":173,"line":363},14,[365,370,374],{"type":22,"tag":171,"props":366,"children":367},{"style":178},[368],{"type":28,"value":369},"    image",{"type":22,"tag":171,"props":371,"children":372},{"style":184},[373],{"type":28,"value":187},{"type":22,"tag":171,"props":375,"children":376},{"style":190},[377],{"type":28,"value":378},"koshacha/paimon-bot:master\n",{"type":22,"tag":31,"props":380,"children":381},{},[382],{"type":28,"value":383},"You'll also need to create an .env file and put it next to it.",{"type":22,"tag":160,"props":385,"children":388},{"className":386,"code":387,"language":28,"meta":7,"style":7},"language-text shiki shiki-themes dark-plus","DISCORD_TOKEN=\"\"\nDEV_GUILD=\"\"\nGOOGLE_APPLICATION_CREDENTIAL=\"\"\nGOOGLE_PROJECT_ID=\"\"\nGOOGLE_CLIENT_EMAIL=\"\"\nGOOGLE_PRIVATE_KEY=\"\"\n",[389],{"type":22,"tag":167,"props":390,"children":391},{"__ignoreMap":7},[392,400,408,416,424,432],{"type":22,"tag":171,"props":393,"children":394},{"class":173,"line":174},[395],{"type":22,"tag":171,"props":396,"children":397},{},[398],{"type":28,"value":399},"DISCORD_TOKEN=\"\"\n",{"type":22,"tag":171,"props":401,"children":402},{"class":173,"line":196},[403],{"type":22,"tag":171,"props":404,"children":405},{},[406],{"type":28,"value":407},"DEV_GUILD=\"\"\n",{"type":22,"tag":171,"props":409,"children":410},{"class":173,"line":210},[411],{"type":22,"tag":171,"props":412,"children":413},{},[414],{"type":28,"value":415},"GOOGLE_APPLICATION_CREDENTIAL=\"\"\n",{"type":22,"tag":171,"props":417,"children":418},{"class":173,"line":12},[419],{"type":22,"tag":171,"props":420,"children":421},{},[422],{"type":28,"value":423},"GOOGLE_PROJECT_ID=\"\"\n",{"type":22,"tag":171,"props":425,"children":426},{"class":173,"line":235},[427],{"type":22,"tag":171,"props":428,"children":429},{},[430],{"type":28,"value":431},"GOOGLE_CLIENT_EMAIL=\"\"\n",{"type":22,"tag":171,"props":433,"children":434},{"class":173,"line":249},[435],{"type":22,"tag":171,"props":436,"children":437},{},[438],{"type":28,"value":439},"GOOGLE_PRIVATE_KEY=\"\"\n",{"type":22,"tag":31,"props":441,"children":442},{},[443],{"type":28,"value":444},"You'll need to get a Discord token and Google Firebase keys first, of course.",{"type":22,"tag":31,"props":446,"children":447},{},[448],{"type":28,"value":449},"All you have to do is run the application with the command:",{"type":22,"tag":160,"props":451,"children":455},{"className":452,"code":453,"language":454,"meta":7,"style":7},"language-bash shiki shiki-themes dark-plus","docker-compose up -d\n","bash",[456],{"type":22,"tag":167,"props":457,"children":458},{"__ignoreMap":7},[459],{"type":22,"tag":171,"props":460,"children":461},{"class":173,"line":174},[462,468,473],{"type":22,"tag":171,"props":463,"children":465},{"style":464},"--shiki-default:#DCDCAA",[466],{"type":28,"value":467},"docker-compose",{"type":22,"tag":171,"props":469,"children":470},{"style":190},[471],{"type":28,"value":472}," up",{"type":22,"tag":171,"props":474,"children":475},{"style":178},[476],{"type":28,"value":477}," -d\n",{"type":22,"tag":479,"props":480,"children":481},"style",{},[482],{"type":28,"value":483},"html .default .shiki span {color: var(--shiki-default);background: var(--shiki-default-bg);font-style: var(--shiki-default-font-style);font-weight: var(--shiki-default-font-weight);text-decoration: var(--shiki-default-text-decoration);}html .shiki span {color: var(--shiki-default);background: var(--shiki-default-bg);font-style: var(--shiki-default-font-style);font-weight: var(--shiki-default-font-weight);text-decoration: var(--shiki-default-text-decoration);}",{"title":7,"searchDepth":196,"depth":196,"links":485},[486,487,488,489,490,491],{"id":25,"depth":196,"text":29},{"id":38,"depth":196,"text":41},{"id":77,"depth":196,"text":80},{"id":115,"depth":196,"text":118},{"id":139,"depth":196,"text":142},{"id":150,"depth":196,"text":153},"markdown","content:en:projects:Discord Bot.md","content","en/projects/Discord Bot.md","en/projects/Discord Bot","md",1739103130869]