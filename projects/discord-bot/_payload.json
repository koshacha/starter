[{"data":1,"prerenderedAt":238},["ShallowReactive",2],{"content-query-bH8JhiZnvr":3},{"_path":4,"_dir":5,"_draft":6,"_partial":6,"_locale":7,"title":8,"description":9,"seoDescription":10,"year":11,"sort":12,"published":13,"color":14,"icon":15,"layout":16,"body":17,"_type":232,"_id":233,"_source":234,"_file":235,"_stem":236,"_extension":237},"/projects/discord-bot","projects",false,"","Discord Bot","The bot for a private Discord server dedicated to communication and roleplay. Written with Nest.js.","Discord bot project with Node.js, Nest.js, Google Firebase, and Docker.",2024,4,true,"#F7BFBE","doodles:star","project",{"type":18,"children":19,"toc":223},"root",[20,29,35,41,76,90,96,101,128,134,152,158,163,169,174,187,192,202,207,212],{"type":21,"tag":22,"props":23,"children":25},"element","h2",{"id":24},"introduction",[26],{"type":27,"value":28},"text","Introduction",{"type":21,"tag":30,"props":31,"children":32},"p",{},[33],{"type":27,"value":34},"This is my first serious non-study project on Node.js as a backend developer. I created a bot for a private Discord server dedicated to communication and roleplay.",{"type":21,"tag":22,"props":36,"children":38},{"id":37},"links",[39],{"type":27,"value":40},"Links",{"type":21,"tag":42,"props":43,"children":44},"ul",{},[45,60],{"type":21,"tag":46,"props":47,"children":48},"li",{},[49,51],{"type":27,"value":50},"Git repository: ",{"type":21,"tag":52,"props":53,"children":57},"a",{"href":54,"rel":55},"https://github.com/koshacha/paimon-nestjs",[56],"nofollow",[58],{"type":27,"value":59},"github.com/koshacha/paimon-nestjs",{"type":21,"tag":46,"props":61,"children":62},{},[63,65],{"type":27,"value":64},"Bot link:\n",{"type":21,"tag":66,"props":67,"children":68},"defer-button",{},[69],{"type":21,"tag":52,"props":70,"children":73},{"href":71,"rel":72},"https://discord.com/oauth2/authorize?client_id=1121418492097343589&permissions=275012176976&scope=bot",[56],[74],{"type":27,"value":75},"invite bot",{"type":21,"tag":30,"props":77,"children":78},{},[79,81,88],{"type":27,"value":80},"As the main library for dealing with Discord.js with Nest.js I used ",{"type":21,"tag":52,"props":82,"children":85},{"href":83,"rel":84},"https://github.com/necordjs/necord",[56],[86],{"type":27,"value":87},"this one",{"type":27,"value":89},".",{"type":21,"tag":22,"props":91,"children":93},{"id":92},"bot-commands",[94],{"type":27,"value":95},"Bot commands",{"type":21,"tag":30,"props":97,"children":98},{},[99],{"type":27,"value":100},"The bot can do the following.",{"type":21,"tag":42,"props":102,"children":103},{},[104,109,123],{"type":21,"tag":46,"props":105,"children":106},{},[107],{"type":27,"value":108},"Counts member posts in certain channels (admin decides which ones) and outputs a rating for the whole time, week or month.",{"type":21,"tag":46,"props":110,"children":111},{},[112,114,121],{"type":27,"value":113},"With the power of ",{"type":21,"tag":52,"props":115,"children":118},{"href":116,"rel":117},"https://www.random.org/",[56],[119],{"type":27,"value":120},"RANDOM.ORG",{"type":27,"value":122}," gives a random number/action",{"type":21,"tag":46,"props":124,"children":125},{},[126],{"type":27,"value":127},"Supports simple server economy - allows server users to earn currency and buy game items with it (which can be created by admin)",{"type":21,"tag":22,"props":129,"children":131},{"id":130},"realizations-details",[132],{"type":27,"value":133},"Realizations details",{"type":21,"tag":42,"props":135,"children":136},{},[137,142,147],{"type":21,"tag":46,"props":138,"children":139},{},[140],{"type":27,"value":141},"Development Language: Node.js",{"type":21,"tag":46,"props":143,"children":144},{},[145],{"type":27,"value":146},"Nest.js framework",{"type":21,"tag":46,"props":148,"children":149},{},[150],{"type":27,"value":151},"Database: Google Firebase",{"type":21,"tag":22,"props":153,"children":155},{"id":154},"work-progress",[156],{"type":27,"value":157},"Work progress",{"type":21,"tag":30,"props":159,"children":160},{},[161],{"type":27,"value":162},"In the course of work I got to know Nest.js and Discord.js better, gained experience in bot development. I configured Github Actions so that the image at Docker Hub would be updated after changes in the main repository branch.",{"type":21,"tag":22,"props":164,"children":166},{"id":165},"launch-the-bot-using-docker-compose",[167],{"type":27,"value":168},"Launch the bot using docker compose",{"type":21,"tag":30,"props":170,"children":171},{},[172],{"type":27,"value":173},"First of all, you will need to create a docker-compose.yml file with the following contents:",{"type":21,"tag":175,"props":176,"children":181},"pre",{"className":177,"code":179,"language":180,"meta":7},[178],"language-yaml","name: paimon\nservices:\n  paimon-bot:\n    ports:\n      - 8000:8000\n    volumes:\n      - .:/usr/src/app\n    env_file:\n      - .env\n    restart: always\n    logging:\n      options:\n        max-size: 1g\n    image: koshacha/paimon-bot:master\n","yaml",[182],{"type":21,"tag":183,"props":184,"children":185},"code",{"__ignoreMap":7},[186],{"type":27,"value":179},{"type":21,"tag":30,"props":188,"children":189},{},[190],{"type":27,"value":191},"You'll also need to create an .env file and put it next to it.",{"type":21,"tag":175,"props":193,"children":197},{"className":194,"code":196,"language":27,"meta":7},[195],"language-text","DISCORD_TOKEN=\"\"\nDEV_GUILD=\"\"\nGOOGLE_APPLICATION_CREDENTIAL=\"\"\nGOOGLE_PROJECT_ID=\"\"\nGOOGLE_CLIENT_EMAIL=\"\"\nGOOGLE_PRIVATE_KEY=\"\"\n",[198],{"type":21,"tag":183,"props":199,"children":200},{"__ignoreMap":7},[201],{"type":27,"value":196},{"type":21,"tag":30,"props":203,"children":204},{},[205],{"type":27,"value":206},"You'll need to get a Discord token and Google Firebase keys first, of course.",{"type":21,"tag":30,"props":208,"children":209},{},[210],{"type":27,"value":211},"All you have to do is run the application with the command:",{"type":21,"tag":175,"props":213,"children":218},{"className":214,"code":216,"language":217,"meta":7},[215],"language-bash","docker-compose up -d\n","bash",[219],{"type":21,"tag":183,"props":220,"children":221},{"__ignoreMap":7},[222],{"type":27,"value":216},{"title":7,"searchDepth":224,"depth":224,"links":225},2,[226,227,228,229,230,231],{"id":24,"depth":224,"text":28},{"id":37,"depth":224,"text":40},{"id":92,"depth":224,"text":95},{"id":130,"depth":224,"text":133},{"id":154,"depth":224,"text":157},{"id":165,"depth":224,"text":168},"markdown","content:projects:Discord Bot.md","content","projects/Discord Bot.md","projects/Discord Bot","md",1738442968517]